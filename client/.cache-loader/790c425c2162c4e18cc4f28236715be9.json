{"remainingRequest":"/Users/daikiterai/Desktop/learnReactJS/client/node_modules/thread-loader/dist/cjs.js??ref--4-1!/Users/daikiterai/Desktop/learnReactJS/client/node_modules/babel-loader/lib/index.js??ref--4-2!/Users/daikiterai/Desktop/learnReactJS/client/src/components/AsyncComponent.js","dependencies":[{"path":"/Users/daikiterai/Desktop/learnReactJS/client/src/components/AsyncComponent.js","mtime":1543143633795},{"path":"/Users/daikiterai/Desktop/learnReactJS/client/node_modules/cache-loader/dist/cjs.js","mtime":1543145130559},{"path":"/Users/daikiterai/Desktop/learnReactJS/client/node_modules/thread-loader/dist/cjs.js","mtime":1539057923244},{"path":"/Users/daikiterai/Desktop/learnReactJS/client/node_modules/babel-loader/lib/index.js","mtime":1539057922793}],"contextDependencies":[],"result":["import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.object.set-prototype-of\";\n\n(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport React from 'react'; // 遅延レンダリングを行うコンポーネント\n\nvar _default = function _default(loader, collection) {\n  return (\n    /*#__PURE__*/\n    function (_React$Component) {\n      _inherits(AsyncComponent, _React$Component);\n\n      function AsyncComponent(props) {\n        var _this;\n\n        _classCallCheck(this, AsyncComponent);\n\n        _this = _possibleConstructorReturn(this, _getPrototypeOf(AsyncComponent).call(this, props));\n        _this.Component = null;\n        _this.state = {\n          Component: AsyncComponent.Component\n        };\n        return _this;\n      }\n\n      _createClass(AsyncComponent, [{\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          var _this2 = this;\n\n          // 遅延して読み込み完了させる\n          setTimeout(function () {\n            return _this2.setState({\n              startProgress: true\n            });\n          }, 500);\n\n          if (!this.state.Component) {\n            loader().then(function (module) {\n              return module.default;\n            }) // export defaultされたコンポーネント\n            .then(function (Component) {\n              // コンポーネントを遅延読み込みしたものに差し替え\n              AsyncComponent.Component = Component;\n\n              _this2.setState({\n                Component: Component\n              });\n            });\n          }\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          if (this.state.Component) {\n            // Wrapしたコンポーネントをレンダリングする\n            return React.createElement(this.state.Component, _extends({}, this.props, collection));\n          }\n\n          if (!this.state.startProgress) {\n            return null;\n          }\n\n          return React.createElement(\"div\", null, \"Now Loading...\");\n        }\n      }, {\n        key: \"__reactstandin__regenerateByEval\",\n        // @ts-ignore\n        value: function __reactstandin__regenerateByEval(key, code) {\n          // @ts-ignore\n          this[key] = eval(code);\n        }\n      }]);\n\n      return AsyncComponent;\n    }(React.Component)\n  );\n};\n\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(_default, \"default\", \"/Users/daikiterai/Desktop/learnReactJS/client/src/components/AsyncComponent.js\");\n  leaveModule(module);\n})();\n\n;",{"version":3,"sources":["/Users/daikiterai/Desktop/learnReactJS/client/src/components/AsyncComponent.js"],"names":["React","loader","collection","props","Component","state","AsyncComponent","setTimeout","setState","startProgress","then","module","default"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CAEA;;eACe,kBAACC,MAAD,EAASC,UAAT;AAAA;AAAA;AAAA;AAAA;;AAEX,8BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,4FAAMA,KAAN;AACA,cAAKC,SAAL,GAAiB,IAAjB;AACA,cAAKC,KAAL,GAAa;AAAED,UAAAA,SAAS,EAAEE,cAAc,CAACF;AAA5B,SAAb;AAHiB;AAIlB;;AANU;AAAA;AAAA,4CAQS;AAAA;;AAClB;AACAG,UAAAA,UAAU,CAAC;AAAA,mBAAM,MAAI,CAACC,QAAL,CAAc;AAACC,cAAAA,aAAa,EAAE;AAAhB,aAAd,CAAN;AAAA,WAAD,EAA6C,GAA7C,CAAV;;AACA,cAAI,CAAC,KAAKJ,KAAL,CAAWD,SAAhB,EAA2B;AACzBH,YAAAA,MAAM,GACHS,IADH,CACQ,UAAAC,MAAM;AAAA,qBAAIA,MAAM,CAACC,OAAX;AAAA,aADd,EACkC;AADlC,aAEGF,IAFH,CAEQ,UAAAN,SAAS,EAAI;AACjB;AACAE,cAAAA,cAAc,CAACF,SAAf,GAA2BA,SAA3B;;AACA,cAAA,MAAI,CAACI,QAAL,CAAc;AAAEJ,gBAAAA,SAAS,EAATA;AAAF,eAAd;AACD,aANH;AAOD;AACF;AApBU;AAAA;AAAA,iCAsBF;AACP,cAAI,KAAKC,KAAL,CAAWD,SAAf,EAA0B;AACxB;AACA,mBAAO,yBAAM,KAAN,CAAY,SAAZ,eAA2B,KAAKD,KAAhC,EAA6CD,UAA7C,EAAP;AACD;;AAED,cAAI,CAAC,KAAKG,KAAL,CAAWI,aAAhB,EAA+B;AAC7B,mBAAO,IAAP;AACD;;AAED,iBAAO,kDAAP;AACD;AAjCU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA,MACgBT,KAAK,CAACI,SADtB;AAAA;AAAA,C;;AAAf","sourcesContent":["import React from 'react'\n\n// 遅延レンダリングを行うコンポーネント\nexport default (loader, collection) => (\n  class AsyncComponent extends React.Component {\n    constructor(props) {\n      super(props)\n      this.Component = null\n      this.state = { Component: AsyncComponent.Component }\n    }\n\n    componentDidMount() {\n      // 遅延して読み込み完了させる\n      setTimeout(() => this.setState({startProgress: true}), 500)\n      if (!this.state.Component) {\n        loader()\n          .then(module => module.default) // export defaultされたコンポーネント\n          .then(Component => {\n            // コンポーネントを遅延読み込みしたものに差し替え\n            AsyncComponent.Component = Component\n            this.setState({ Component })\n          })\n      }\n    }\n\n    render() {\n      if (this.state.Component) {\n        // Wrapしたコンポーネントをレンダリングする\n        return <this.state.Component { ...this.props } { ...collection } />\n      }\n\n      if (!this.state.startProgress) {\n        return null\n      }\n\n      return <div>Now Loading...</div>\n    }\n  }\n)\n"]}]}